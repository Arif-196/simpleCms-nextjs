import React from 'react';
import { useRouter } from 'next/router';
import {
  UploadOutlined, UserOutlined, VideoCameraOutlined
} from '@ant-design/icons';
import {
  Layout, Menu, theme
} from 'antd';

const {
  Header, Content, Footer, Sider
} = Layout;
const listNav = [
  'Product',
  'Table',
  'Order'
];

const Siderbar = ( { children }:any ) => {
  const router = useRouter();
  const { token: { colorBgContainer }, } = theme.useToken();

  return (
    <Layout>
      <Sider
        breakpoint='lg'
        collapsedWidth='0'
        onBreakpoint={ broken => {
          console.log( broken );
        } }
        onCollapse={ ( collapsed, type ) => {
          console.log( collapsed, type );
        } }
        collapsed={ false }
      >
        <div className='logo' />
        <Menu
          theme='dark'
          mode='inline'
          defaultSelectedKeys={ ['4'] }
          items={ [
            UserOutlined,
            VideoCameraOutlined,
            UploadOutlined
          ].map(
            ( icon, index ) => ( {
              key: listNav[index].toLowerCase(),
              icon: React.createElement( icon ),
              label: listNav[index],
            } ),
          ) }
          onClick={ e => router.push( e.key ) }
        />
      </Sider>
      <Layout>
        <Header style={ {
          padding: 0,
          background: colorBgContainer
        } } />
        <Content style={ { margin: '24px 16px 0' } }>
          <div style={ {
            padding: 24,
            minHeight: 360,
            background: colorBgContainer
          } }>{ children }</div>
        </Content>
        <Footer style={ { textAlign: 'center' } }>Ant Design Â©2023 Created by Ant UED</Footer>
      </Layout>
    </Layout>
  );
};

export default React.memo( Siderbar );